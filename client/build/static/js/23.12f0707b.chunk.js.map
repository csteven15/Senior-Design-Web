{"version":3,"sources":["pages/PermitDetails.js"],"names":["PermitDetails","state","permitData","this","getPermitDetails","_this2","props","fetchHelp","then","res","axios","get","concat","location","data","_id","headers","status","setState","result","catch","err","console","log","_this3","classes","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_generic_Spinner__WEBPACK_IMPORTED_MODULE_13__","expirationDate","Date","expiration","getMonth","getDate","getFullYear","purchaseDate","purchase","className","layout","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","variant","gutterBottom","component","permitType","car","year","make","model","color","licensePlate","tag","container","spacing","item","xs","sm","onClick","history","push","pathname","id","goBack","React","Component","compose","withRouter","withStyles","theme","Object","_Users_stevenchen_Fall2018_Group41_Web_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","justifyContent","width","marginLeft","unit","marginRight","breakpoints","up","stepper","padding","buttons","display","button","marginTop","connect","dispatch","url","method","header","body","fetchHelper"],"mappings":"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","file":"static/js/23.12f0707b.chunk.js","sourcesContent":["import React from 'react';\nimport { Typography, Button, Grid, withStyles } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { connect } from 'react-redux';\nimport { fetchHelper } from '../actions/AuthActions';\nimport Spinner from '../components/generic/Spinner';\nimport axios from 'axios';\n\nconst styles = theme => ({\n  layout: {\n    justifyContent: 'left',\n    width: 'auto',\n    marginLeft: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit * 2,\n    [theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2)]: {\n      width: '100%',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  stepper: {\n    padding: `${theme.spacing.unit * 3}px 0 ${theme.spacing.unit * 5}px`,\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  button: {\n    marginTop: theme.spacing.unit * 3,\n    marginLeft: theme.spacing.unit,\n  },\n});\n\nclass PermitDetails extends React.Component {\n  state = {\n    permitData: null,\n  };\n\n  componentDidMount() {\n    this.getPermitDetails();\n  }\n\n  getPermitDetails() {\n    this.props\n      .fetchHelp()\n      .then(res => {\n        axios\n          .get(`/api/permits/idspecific/${this.props.location.state.data._id}`, {\n            headers: res.headers,\n          })\n          .then(res => {\n            if (res.status !== 400) {\n              this.setState({ permitData: res.data.result });\n            }\n          });\n      })\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { permitData } = this.state;\n    if (permitData === null) {\n      return <Spinner />;\n    }\n    const expirationDate = new Date(permitData.expirationDate);\n    const expiration = `${expirationDate.getMonth() + 1}-${expirationDate.getDate()}-${expirationDate.getFullYear()}`;\n\n    const purchaseDate = new Date(permitData.purchaseDate);\n    const purchase = `${purchaseDate.getMonth() + 1}-${purchaseDate.getDate()}-${purchaseDate.getFullYear()}`;\n\n    return (\n      <div className={classes.layout}>\n        <Typography variant='h4' gutterBottom component='h4'>\n          Permit Details\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          Permit Type:&nbsp;\n          {permitData.permitType.permitType}\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          Expiration Date:&nbsp;\n          {purchase}\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          Expiration Date:&nbsp;\n          {expiration}\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          Associated Vehicle:&nbsp;\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n          {`${permitData.car.year} ${permitData.car.make} ${permitData.car.model}`}\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Color:&nbsp;\n          {permitData.car.color}\n        </Typography>\n        <Typography variant='h6' gutterBottom component='h6'>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; License Plate:&nbsp;\n          {`${permitData.car.licensePlate.tag}, ${permitData.car.licensePlate.state}`}\n        </Typography>\n        <Grid container spacing={24}>\n          <Grid item xs={12} sm={6}>\n            <Button\n              onClick={() =>\n                this.props.history.push({\n                  pathname: '/changeVehicle',\n                  state: { id: permitData._id },\n                })\n              }\n            >\n              Change Vehicle\n            </Button>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Button onClick={() => this.props.history.goBack()}>Done</Button>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchHelp: (url, method, header, body) => dispatch(fetchHelper(url, method, header, body)),\n  };\n};\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    null,\n    mapDispatchToProps\n  )\n)(PermitDetails);\n"],"sourceRoot":""}