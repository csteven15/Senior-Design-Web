(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{6384:function(e,t,a){"use strict";a.r(t);var n=a(90),r=a(72),l=a(73),s=a(75),c=a(74),u=a(76),o=a(0),i=a.n(o),m=a(59),p=a(19),d=a(78),E=a(69),h=a(144),f=a(68),v=a(65),g=a.n(v),P=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(u)))).state={nid:"",first:"",last:"",email:"",level:"",results:"100",data:null},a.getLevelNum=function(e){return""===e?"":"Standard"===e?"100":"Enforcer"===e?"200":"Administrator"===e?"300":""},a.getLevelType=function(e){return""===e?"All":"100"===e?"Standard":"200"===e?"Enforcer":"300"===e?"Administrator":"All"},a.searchOnChange=function(e){return function(t){/\s/g.test(t.target.value)||a.setState(Object(n.a)({},e,t.target.value.trim()),function(){return a.updateTable()})}},a.updateTable=function(){var e={usernameFilter:a.state.nid,firstNameFilter:a.state.first,lastNameFilter:a.state.last,emailAddressFilter:a.state.email,maxResults:a.state.results};e.accountLevelFilter=a.getLevelNum(a.state.level),a.props.fetchHelp().then(function(t){g.a.get("/api/users/searchUsers?".concat(new URLSearchParams(e).toString()),{headers:t.headers}).then(function(e){return a.setState({data:e.data.results})}).catch(function(e){return console.log(e.response)})}).catch(function(e){return console.log(e)})},a.renderTable=function(){var e=[];a.state.data&&a.state.data.map(function(t){var a={},n=[];return a.username=t.username,a.firstName=t.firstName,a.lastName=t.lastName,a.emailAddress=t.emailAddress,100===t.accountLevel&&(a.accountLevel="Standard"),200===t.accountLevel&&(a.accountLevel="Enforcer"),300===t.accountLevel&&(a.accountLevel="Administrator"),t.allowedPermits.map(function(e){return n.push(e.permitType)}),a.permits=n.join(", "),e.push(a),null});return i.a.createElement(p.G,null,i.a.createElement(p.N,null,i.a.createElement(p.Q,null,i.a.createElement(p.R,null,["NID","First Name","Last Name","Email","Allowed Permits","User Level"].map(function(e,t){return i.a.createElement(p.P,{key:t,style:{fontWeight:700}},e)})),i.a.createElement(p.R,null,i.a.createElement(p.P,null,i.a.createElement(p.T,{InputProps:{startAdornment:i.a.createElement(p.y,{position:"start"},i.a.createElement(d.g,null))},onChange:a.searchOnChange("nid"),value:a.state.nid})),i.a.createElement(p.P,null,i.a.createElement(p.T,{InputProps:{startAdornment:i.a.createElement(p.y,{position:"start"},i.a.createElement(d.g,null))},onChange:a.searchOnChange("first"),value:a.state.first})),i.a.createElement(p.P,null,i.a.createElement(p.T,{InputProps:{startAdornment:i.a.createElement(p.y,{position:"start"},i.a.createElement(d.g,null))},onChange:a.searchOnChange("last"),value:a.state.last})),i.a.createElement(p.P,null,i.a.createElement(p.T,{InputProps:{startAdornment:i.a.createElement(p.y,{position:"start"},i.a.createElement(d.g,null))},onChange:a.searchOnChange("email"),value:a.state.email})),i.a.createElement(p.P,null,"\xa0"),i.a.createElement(p.P,null,i.a.createElement(p.p,{margin:"normal",required:!0,fullWidth:!0},i.a.createElement(p.T,{select:!0,value:a.state.level,onChange:a.searchOnChange("level"),InputProps:{startAdornment:i.a.createElement(p.y,{position:"start"},i.a.createElement(d.g,null))}},["All","Standard","Enforcer","Administrator"].map(function(e,t){return i.a.createElement(p.F,{key:t,value:e},e)})))))),i.a.createElement(p.O,null,null!==e?e.map(function(e,t){return i.a.createElement(p.R,{onClick:function(){a.props.history.push({pathname:"/users/update",state:{username:e.username}})},key:t,style:{cursor:"pointer"}},i.a.createElement(p.P,null,e.username),i.a.createElement(p.P,null,e.firstName),i.a.createElement(p.P,null,e.lastName),i.a.createElement(p.P,null,e.emailAddress),i.a.createElement(p.P,null,e.permits),i.a.createElement(p.P,null,e.accountLevel))}):i.a.createElement(f.a,null))))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateTable()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.V,{variant:"h4",gutterBottom:!0,component:"h4"},"User Look Up"),i.a.createElement(p.c,{onClick:function(){return e.props.history.push("/users/create")},color:"secondary",variant:"contained"},"Create User"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(p.u,{mdDown:!0},this.renderTable()),i.a.createElement(p.u,{lgUp:!0},"Please switch to a larger screen to use this tool."))}}]),t}(i.a.Component);t.default=Object(E.e)(Object(m.b)(null,function(e){return{fetchHelp:function(t,a,n,r){return e(Object(h.a)(t,a,n,r))}}})(P))}}]);
//# sourceMappingURL=24.b741029f.chunk.js.map